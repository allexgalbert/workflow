# Система работы сайта на поддомене

- На домене domain.com контент отсутствует
- На поддомене a.domain.com контент присутствует
- С домена на поддомен происходит редирект
- Поддомен легко меняется на другой: b.domain.com, c.domain.com
- Не теряются позиции домена в поисковых системах и ссылочная масса
- Не нужен переезд с домена на домен

## Порядок работы

- При заходе напрямую в браузере на домен domain.com, покажет заглушку "500 error. нет информации"
- Система определяет, является ли IP посетителя входящим в список запрещенных. Если входит, то на домене domain.com
  показывает заглушку "500 error. нет информации"
- Если посетитель является поисковым роботом (определяется по списку useragents) и является перешедшим по ссылке с
  другого сайта (определяется по referrers), то контент сайта показывается на домене domain.com
- Если робот поисковых систем зашел напрямую, то покажет контент на домене domain.com
- Если посетитель перешел по ссылке с другого сайта (определяется по referrers), то будет редирект на поддомен
  a.domain.com
- Всех роботов поисковых систем редиректит с поддомена a.domain.com на домен domain.com
- Для всех остальных случаев покажет заглушку "500 error. нет информации"

## Методы

- GetUserData.php - получение юзерагента, реферрера, ip адреса пользователя
- CheckConditions.php - условия для редеректов
- Database.php - работа с бд
- GetIps.php - работа с ip адресами для черного списка

## Структура

![Система работы сайта на поддомене](https://raw.githubusercontent.com/allexgalbert/workflow/main/BogusSubdomain/DOC/1.png "Система работы сайта на поддомене")

## Демо

![Система работы сайта на поддомене](https://raw.githubusercontent.com/allexgalbert/workflow/main/BogusSubdomain/DOC/2.png "Система работы сайта на поддомене")